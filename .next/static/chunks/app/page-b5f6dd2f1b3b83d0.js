(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6198:(e,t,r)=>{Promise.resolve().then(r.bind(r,9547))},9176:(e,t,r)=>{"use strict";r.d(t,{A:()=>u,AuthProvider:()=>o});var s=r(5155),n=r(2115),i=r(63);let a=(0,n.createContext)(void 0);function o(e){let{children:t}=e,[r,o]=(0,n.useState)(null),[u,l]=(0,n.useState)(!1),[d,m]=(0,n.useState)(null),c=(0,i.useRouter)(),h=e=>({id:"dummy-user-id",email:e,onboardingStep:"interests",onboardingComplete:!1,interests:[],subInterests:[],subcategories:[],dealbreakers:[],createdAt:new Date().toISOString()});(0,n.useEffect)(()=>{l(!0),setTimeout(()=>{let e=localStorage.getItem("dummyUser");e&&o(JSON.parse(e)),l(!1)},100)},[]);let f=async(e,t)=>{if(l(!0),m(null),!(null==e?void 0:e.trim())||!(null==t?void 0:t.trim()))return m("Email and password are required"),l(!1),!1;await new Promise(e=>setTimeout(e,500));let r=h(e.trim().toLowerCase());return o(r),localStorage.setItem("dummyUser",JSON.stringify(r)),r.onboardingComplete?c.push("/home"):c.push("/".concat(r.onboardingStep)),l(!1),!0},b=async(e,t)=>{if(l(!0),m(null),!(null==e?void 0:e.trim())||!(null==t?void 0:t.trim()))return m("Email and password are required"),l(!1),!1;await new Promise(e=>setTimeout(e,500));let r=h(e.trim().toLowerCase());return o(r),localStorage.setItem("dummyUser",JSON.stringify(r)),c.push("/interests"),l(!1),!0},g=async()=>{l(!0),o(null),m(null),localStorage.removeItem("dummyUser"),c.push("/onboarding"),l(!1)},p=async e=>{if(!r)return;l(!0),m(null);let t={...r,...e};o(t),localStorage.setItem("dummyUser",JSON.stringify(t)),l(!1)};return(0,s.jsx)(a.Provider,{value:{user:r,login:f,register:b,logout:g,updateUser:p,isLoading:u,error:d},children:t})}function u(){let e=(0,n.useContext)(a);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},9547:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(5155),n=r(2115),i=r(63),a=r(9176);function o(){let e=(0,i.useRouter)(),{user:t,isLoading:r}=(0,a.A)();return(0,n.useEffect)(()=>{r||(t?e.push("/home"):e.push("/onboarding"))},[e,t,r]),(0,s.jsx)("div",{className:"min-h-dvh bg-off-white flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-12 h-12 mx-auto mb-4",children:(0,s.jsx)("div",{className:"w-full h-full border-4 border-sage border-t-transparent rounded-full animate-spin"})}),(0,s.jsx)("h1",{className:"font-urbanist text-4 font-700 text-charcoal mb-2",children:"KLIO"}),(0,s.jsx)("p",{className:"font-urbanist text-6 font-400 text-charcoal/70",children:r?"Checking your session...":"Getting ready..."})]})})}}},e=>{e.O(0,[96,441,358],()=>e(e.s=6198)),_N_E=e.O()}]);