(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[582],{4027:(e,t,s)=>{"use strict";s.d(t,{ToastProvider:()=>i,d:()=>o});var r=s(5155),n=s(2115);let a=(0,n.createContext)(void 0);function i(e){let{children:t}=e,[s,i]=(0,n.useState)([]),o=e=>{i(t=>t.filter(t=>t.id!==e))};return(0,r.jsxs)(a.Provider,{value:{showToast:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4e3,r=Date.now().toString(),n={id:r,message:e,type:t,duration:s};i(e=>[...e,n]),setTimeout(()=>{o(r)},s)},removeToast:o},children:[t,s.length>0&&(0,r.jsx)("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col gap-2 pointer-events-none",children:s.map(e=>(0,r.jsx)("div",{className:"\n                pointer-events-auto max-w-sm w-full backdrop-blur-xl border rounded-xl p-4 shadow-2xl\n                transition-all duration-300 ease-out\n                ".concat((e=>{switch(e){case"success":return"bg-sage/95 border-sage/30 text-white";case"error":return"bg-red-500/95 border-red-400/30 text-white";case"warning":return"bg-amber-500/95 border-amber-400/30 text-white";default:return"bg-charcoal/95 border-charcoal/30 text-white"}})(e.type),"\n              "),children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("ion-icon",{name:(e=>{switch(e){case"success":return"checkmark-circle";case"error":return"close-circle";case"warning":return"warning";default:return"information-circle"}})(e.type),style:{fontSize:"24px"}})}),(0,r.jsx)("div",{className:"flex-1 min-w-0",children:(0,r.jsx)("p",{className:"font-urbanist text-sm font-600 leading-tight",children:e.message})}),(0,r.jsx)("button",{onClick:()=>o(e.id),className:"flex-shrink-0 ml-2 opacity-70 hover:opacity-100 transition-opacity duration-200",children:(0,r.jsx)("ion-icon",{name:"close",style:{fontSize:"20px"}})})]})},e.id))})]})}function o(){let e=(0,n.useContext)(a);if(void 0===e)throw Error("useToast must be used within a ToastProvider");return e}},5173:(e,t,s)=>{Promise.resolve().then(s.bind(s,6015))},6015:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var r=s(5155),n=s(2619),a=s.n(n),i=s(2115),o=s(9176),l=s(8515);let c=[{id:"food-drink",name:"Food & Drink"},{id:"beauty-wellness",name:"Beauty & Wellness"},{id:"home-services",name:"Home & Services"},{id:"outdoors-adventure",name:"Outdoors & Adventure"},{id:"nightlife-entertainment",name:"Nightlife & Entertainment"},{id:"arts-culture",name:"Arts & Culture"},{id:"family-pets",name:"Family & Pets"},{id:"shopping-lifestyle",name:"Shopping & Lifestyle"}];function d(){let[e,t]=(0,i.useState)(""),[s,n]=(0,i.useState)(!0),[d,u]=(0,i.useState)(!1),m="Let's get to know you",h=(0,i.useRef)(!1),{user:g}=(0,o.A)(),{interests:f,selectedInterests:p,setSelectedInterests:x,nextStep:b,loadInterests:v,isLoading:y,error:w}=(0,l.z)();(0,i.useEffect)(()=>{h.current||0!==f.length||y||(h.current=!0,v())},[v,f.length,y]),(0,i.useEffect)(()=>{let e=0,s=setInterval(()=>{n(e=>!e)},500),r=(()=>{let r=setInterval(()=>{e<=m.length?(t(m.slice(0,e)),e++):(clearInterval(r),clearInterval(s),n(!1))},80);return r})();return()=>{clearInterval(r),clearInterval(s)}},[m]);let j=(0,i.useCallback)(e=>{x(p.includes(e)?p.filter(t=>t!==e):[...p,e])},[p,x]),N=(0,i.useMemo)(()=>p.length>0&&g&&!d,[p.length,g,d]),S=(0,i.useCallback)(async()=>{if(N&&!y){u(!0);try{await b()}catch(e){console.error("Error proceeding to next step:",e),u(!1)}}},[N,b,y]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n  @keyframes fadeInUp {\n    from { opacity: 0; transform: translateY(20px); }\n    to { opacity: 1; transform: translateY(0); }\n  }\n  .animate-fade-in-up { animation: fadeInUp 0.8s ease-out forwards; }\n  .delay-200 { animation-delay: 0.2s; }\n  .delay-400 { animation-delay: 0.4s; }\n  .delay-600 { animation-delay: 0.6s; }\n"}}),(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-off-white via-off-white/98 to-off-white/95 flex flex-col px-4 py-6 sm:py-8 relative overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute top-4 left-4 sm:top-6 sm:left-6 z-20",children:(0,r.jsx)(a(),{href:"/register",className:"text-charcoal/60 hover:text-charcoal transition-colors duration-300 p-2 hover:bg-charcoal/5 rounded-full",children:(0,r.jsx)("ion-icon",{name:"arrow-back-outline",size:"small"})})}),(0,r.jsxs)("div",{className:"w-full max-w-sm sm:max-w-md lg:max-w-lg mx-auto relative z-10 flex-1 flex flex-col justify-center py-8 sm:py-12",children:[(0,r.jsxs)("div",{className:"text-center mb-6 sm:mb-8 md:mb-12",children:[(0,r.jsx)("div",{className:"inline-block relative mb-6",children:(0,r.jsx)("h2",{className:"font-urbanist text-2xl md:text-4xl lg:text-5xl font-700 text-charcoal mb-3 md:mb-3 text-center leading-snug px-2 tracking-[0.01em]",children:(0,r.jsxs)("span",{className:"relative",children:[e,(0,r.jsx)("span",{className:"inline-block w-1 md:w-2 h-6 md:h-12 bg-sage ml-1 transition-opacity duration-100 ".concat(s?"opacity-100":"opacity-0"),style:{animation:s?"blink 1s infinite":"none"}})]})})}),(0,r.jsx)("p",{className:"font-urbanist text-sm md:text-base font-400 text-charcoal/70 mb-10 md:mb-12 leading-relaxed px-4 max-w-lg md:max-w-2xl mx-auto",children:"Pick a few things you love and let's personalize your experience!"})]}),(0,r.jsx)("div",{className:"bg-off-white/95 backdrop-blur-lg rounded-2xl sm:rounded-3xl p-4 sm:p-6 md:p-8 lg:p-12 mb-4 sm:mb-6 relative overflow-visible",children:(0,r.jsxs)("div",{className:"relative z-10 py-8",children:[w&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 text-center mb-6",children:(0,r.jsx)("p",{className:"font-urbanist text-sm font-600 text-red-600",children:w})}),y&&0===f.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("div",{className:"w-8 h-8 border-4 border-sage/20 border-t-sage rounded-full animate-spin mx-auto mb-4"}),(0,r.jsx)("p",{className:"font-urbanist text-base text-charcoal/70",children:"Loading interests..."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"grid grid-cols-2 gap-4 md:gap-6 mb-8 md:mb-12 overflow-visible",children:(f.length>0?f:c).map(e=>(0,r.jsx)("button",{onClick:()=>j(e.id),className:"\n                    relative z-30 w-[85%] aspect-square rounded-full border-2 transition-all duration-300 ease-out mx-auto\n                    ".concat(p.includes(e.id)?"bg-coral border-coral text-white shadow-lg animate-bounce":"bg-sage border-sage text-white hover:bg-sage/90","\n                    focus:outline-none focus:ring-2 focus:ring-sage focus:ring-offset-2\n                  "),children:(0,r.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-4",children:[(0,r.jsx)("span",{className:"font-urbanist text-7 md:text-6 font-600 text-center leading-tight",children:e.name}),p.includes(e.id)&&(0,r.jsx)("div",{className:"absolute top-2 right-2",children:(0,r.jsx)("ion-icon",{name:"checkmark-circle",size:"small",style:{color:"white"}})})]})},e.id))}),(0,r.jsx)("div",{className:"pt-6",children:(0,r.jsxs)("button",{className:"\n                      group block w-full bg-gradient-to-r from-sage to-sage/90 hover:from-coral hover:to-coral/90 text-white font-urbanist text-sm md:text-base font-600 py-3.5 md:py-4 px-6 md:px-8 rounded-2xl md:rounded-full shadow-lg transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-sage/20 hover:focus:ring-coral/20 focus:ring-offset-1 relative overflow-hidden text-center hover:scale-[1.02] overflow-hidden\n                      ".concat(N?"bg-gradient-to-r from-sage to-sage/90 text-white hover:scale-105 shadow-lg  focus:outline-none focus:ring-4 focus:ring-sage/30 focus:ring-offset-2":"bg-light-gray/50 text-charcoal/40 cursor-not-allowed","\n                    "),onClick:S,disabled:!N,children:[(0,r.jsxs)("span",{className:"relative z-10 flex items-center justify-center gap-2",children:[(d||y)&&(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Next ",p.length>0&&"(".concat(p.length," selected)")]}),N&&(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-sage/80 to-sage opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})})]})]})}),(0,r.jsxs)("div",{className:"flex justify-center items-center space-x-2 mb-4",children:[(0,r.jsx)("div",{className:"w-3 h-3 bg-sage rounded-full"}),(0,r.jsx)("div",{className:"w-3 h-3 bg-charcoal/20 rounded-full"}),(0,r.jsx)("div",{className:"w-3 h-3 bg-charcoal/20 rounded-full"}),(0,r.jsx)("div",{className:"w-3 h-3 bg-charcoal/20 rounded-full"})]}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("p",{className:"font-urbanist text-8 font-400 text-charcoal/50",children:"Step 1 of 4"})})]})]})]})}function u(){return(0,r.jsx)(d,{})}},8515:(e,t,s)=>{"use strict";s.d(t,{OnboardingProvider:()=>u,z:()=>m});var r=s(5155),n=s(2115),a=s(9176),i=s(4027);let o=(0,n.createContext)(void 0),l=["interests","subcategories","deal-breakers","complete"],c=[{id:"food",name:"Food & Dining",description:"Restaurants, cafes, and culinary experiences",icon:"restaurant"},{id:"entertainment",name:"Entertainment",description:"Movies, shows, and nightlife",icon:"musical-notes"},{id:"shopping",name:"Shopping",description:"Retail stores and markets",icon:"bag"},{id:"health",name:"Health & Wellness",description:"Gyms, spas, and medical services",icon:"fitness"},{id:"services",name:"Services",description:"Professional and personal services",icon:"construct"},{id:"automotive",name:"Automotive",description:"Car services and repairs",icon:"car"},{id:"home",name:"Home & Garden",description:"Home improvement and gardening",icon:"home"},{id:"beauty",name:"Beauty & Personal Care",description:"Salons and personal care services",icon:"cut"}],d=[{id:"restaurants",name:"Restaurants",description:"Fine dining and casual restaurants"},{id:"cafes",name:"Cafes & Coffee Shops",description:"Coffee shops and casual cafes"},{id:"fast-food",name:"Fast Food",description:"Quick service restaurants"},{id:"bakeries",name:"Bakeries",description:"Bakeries and pastry shops"},{id:"movies",name:"Movie Theaters",description:"Cinemas and movie theaters"},{id:"bars",name:"Bars & Pubs",description:"Drinking establishments"},{id:"clubs",name:"Nightclubs",description:"Dance clubs and nightlife"},{id:"concerts",name:"Live Music",description:"Concert venues and live music"},{id:"clothing",name:"Clothing Stores",description:"Fashion and apparel stores"},{id:"electronics",name:"Electronics",description:"Electronic goods and gadgets"},{id:"grocery",name:"Grocery Stores",description:"Supermarkets and grocery stores"},{id:"specialty",name:"Specialty Shops",description:"Unique and specialty retail"},{id:"gyms",name:"Gyms & Fitness",description:"Fitness centers and gyms"},{id:"spas",name:"Spas & Wellness",description:"Spas and wellness centers"},{id:"medical",name:"Medical Services",description:"Healthcare and medical services"},{id:"dental",name:"Dental Care",description:"Dental offices and services"}];function u(e){let{children:t}=e,{user:s,updateUser:u}=(0,a.A)(),{showToast:m}=(0,i.d)(),[h,g]=(0,n.useState)([]),[f,p]=(0,n.useState)([]),[x,b]=(0,n.useState)([]),[v,y]=(0,n.useState)([]),[w,j]=(0,n.useState)([]),[N,S]=(0,n.useState)(!1),[k,C]=(0,n.useState)(null),E=(null==s?void 0:s.onboardingStep)||"interests",P=(0,n.useCallback)(async()=>{try{S(!0),C(null),await new Promise(e=>setTimeout(e,300)),g(c)}catch(e){console.error("Error loading interests:",e),C("Failed to load interests")}finally{S(!1)}},[]),I=(0,n.useCallback)(async e=>{try{S(!0),C(null),await new Promise(e=>setTimeout(e,300));let t=d;e&&e.length>0&&(t=d),p(t)}catch(e){console.error("Error loading sub-interests:",e),C("Failed to load sub-interests")}finally{S(!1)}},[]),F=(0,n.useCallback)(e=>{switch(e){case"interests":return"Great! ".concat(x.length," interests selected. Let's explore sub-categories!");case"subcategories":return"Perfect! ".concat(v.length," sub-interests added. Now let's set your dealbreakers.");case"deal-breakers":return"Excellent! ".concat(w.length," dealbreakers set. Almost done!");default:return"Step completed successfully!"}},[x.length,v.length,w.length]),O=(0,n.useCallback)(async()=>{if(s)try{S(!0),C(null);let e={onboardingStep:(e=>{let t=l.indexOf(e);return -1===t||t===l.length-1?"complete":l[t+1]})(E)};"interests"===E?e.interests=x:"subcategories"===E?e.subInterests=v:"deal-breakers"===E&&(e.dealbreakers=w),await u(e);let t=F(E);m(t,"success",3e3)}catch(e){console.error("Error proceeding to next step:",e),C("Failed to save progress")}finally{S(!1)}},[s,E,x,v,w,u,m,F]),z=(0,n.useCallback)(async()=>{if(s)try{S(!0),C(null),await u({onboardingComplete:!0,onboardingStep:"complete",interests:x,subInterests:v,dealbreakers:w}),m("\uD83C\uDF89 Welcome to KLIO! Your profile is now complete.","success",4e3)}catch(e){console.error("Error completing onboarding:",e),C("Failed to complete onboarding")}finally{S(!1)}},[s,x,v,w,u,m]);return(0,r.jsx)(o.Provider,{value:{interests:h,subInterests:f,selectedInterests:x,selectedSubInterests:v,selectedDealbreakers:w,isLoading:N,error:k,currentStep:E,loadInterests:P,loadSubInterests:I,setSelectedInterests:b,setSelectedSubInterests:y,setSelectedDealbreakers:j,nextStep:O,completeOnboarding:z,resetOnboarding:()=>{b([]),y([]),j([]),C(null)}},children:t})}function m(){let e=(0,n.useContext)(o);if(void 0===e)throw Error("useOnboarding must be used within an OnboardingProvider");return e}},9176:(e,t,s)=>{"use strict";s.d(t,{A:()=>l,AuthProvider:()=>o});var r=s(5155),n=s(2115),a=s(63);let i=(0,n.createContext)(void 0);function o(e){let{children:t}=e,[s,o]=(0,n.useState)(null),[l,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(null),m=(0,a.useRouter)(),h=e=>({id:"dummy-user-id",email:e,onboardingStep:"interests",onboardingComplete:!1,interests:[],subInterests:[],subcategories:[],dealbreakers:[],createdAt:new Date().toISOString()});(0,n.useEffect)(()=>{c(!0),setTimeout(()=>{let e=localStorage.getItem("dummyUser");e&&o(JSON.parse(e)),c(!1)},100)},[]);let g=async(e,t)=>{if(c(!0),u(null),!(null==e?void 0:e.trim())||!(null==t?void 0:t.trim()))return u("Email and password are required"),c(!1),!1;await new Promise(e=>setTimeout(e,500));let s=h(e.trim().toLowerCase());return o(s),localStorage.setItem("dummyUser",JSON.stringify(s)),s.onboardingComplete?m.push("/home"):m.push("/".concat(s.onboardingStep)),c(!1),!0},f=async(e,t)=>{if(c(!0),u(null),!(null==e?void 0:e.trim())||!(null==t?void 0:t.trim()))return u("Email and password are required"),c(!1),!1;await new Promise(e=>setTimeout(e,500));let s=h(e.trim().toLowerCase());return o(s),localStorage.setItem("dummyUser",JSON.stringify(s)),m.push("/interests"),c(!1),!0},p=async()=>{c(!0),o(null),u(null),localStorage.removeItem("dummyUser"),m.push("/onboarding"),c(!1)},x=async e=>{if(!s)return;c(!0),u(null);let t={...s,...e};o(t),localStorage.setItem("dummyUser",JSON.stringify(t)),c(!1)};return(0,r.jsx)(i.Provider,{value:{user:s,login:g,register:f,logout:p,updateUser:x,isLoading:l,error:d},children:t})}function l(){let e=(0,n.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}},e=>{e.O(0,[96,441,358],()=>e(e.s=5173)),_N_E=e.O()}]);